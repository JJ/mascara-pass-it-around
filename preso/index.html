<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Pass it around</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/pass-it.css">
    <link rel="stylesheet" href="dist/extra.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

	<section
    data-background='https://live.staticflickr.com/8378/28823811746_b579786bff_k_d.jpg'><h1>Pass
            it around</h1>
            <h2>Complex networks for soccer analysis</h2>
            <h3>... and prediction</h3>
            <h2>ICAITA 2022; University of Mascara, Algeria</h2>
	    <h2>JJ Merelo, university of Granada <a href="https://twitter.com/jjmerelo"><code>@jjmerelo</code></a> </h2>
            <aside class="notes">Many thanks to Dr. Salem Mohammend, for his
    invitation, the president of the University of Mascara, for giving me the
                chance to present my research</aside>
        </section>

	<section>
	  <h3>JJ Merelo, University of Granada, Spain, software
	    developer, open source/open science advocate</h3>
	  <h2 class='fragment'>Football fan</h2>
	  <img style='width:400px' src='../img/jj-winamax.jpg' alt='JJ fútbol winamax'
	       class='fragment'>
	  <aside class='notes'>One of the few memories I keep with my
	  father, who died in 1975, is going with him to several
	  football matches; I remember one in Málaga, Español against
	  Boca Juniors, and I was only 8 years old. So football is
	  something that is well embedded into the Spanish culture; I
	  have also watched football matches with my daughters,
	  notably when the Spanish team got somewhere in big
	  international competitions. We were watching together the
	    World Cup finals, and then went to jump into a swimming
	  pool. I have been talking about soccer with taxi drivers
	  from all over the world, and it also helped me find great
	  working colleagues, like Doctor Mohammed Salem.</aside>
	</section>

	<section data-background='https://live.staticflickr.com/65535/52090839857_80ce0fcee8_k_d.jpg'><h1>Football is football</h1>
	  <h2>And it will always be</h2>
	  <aside class="notes">This is what coaches say when confronted by
    journalists after an adverse result. Football is filled with upsets,
    underdogs arriving to the semi-finals or even finals of cups, unknown teams
    performing much better than expected... Spain winning the world cup... It's
              a complicated gaming, with many events happening during 90 minutes.</aside>
	  </aside>
	</section>

        <section
      data-background="https://live.staticflickr.com/65535/52471207792_36b11d3639_k_d.jpg"><h1>Predict
            the result</h1>
            <h2 class="fragment">Bets</h2>
            <h2 class="fragment">Peace of mind</h2>
            <h2 class="fragment">Sport decisions</h2>
            <aside class="notes">The coach needs to take a series of
      decisions on who needs to play and who should not, depending on the
      fixture; but also football fans need to know if their team is going to win
      or not. This match finished with 1-4 against Granada, which was the home
                team. Those are the ones with the white-red stripes.</aside>
        </section>

        <section
      data-background="https://live.staticflickr.com/65535/52471214082_e19c1a3f25_o_d.jpg"><h1>Explaining
            the result is important</h1>
            <h2 class="fragment">Sports journalism</h2>
            <h2 class="fragment">Sport decisions</h2>

	    <aside class='notes'>Journalism will be mainly concerned
	      on how to describe what's happened or how to talk about
	      the state of a particular team
	      Decisions include everything, from on-the-spot decisions
	      on who to bench, to who to change, who to drop for the
	      next season, who to hire.</aside>
        </section>

        <section><blockquote>It's tough to make predictions; especially about
            the future</blockquote>
            <p>Yogi Berra, baseball player</p>
            <img
            src="https://upload.wikimedia.org/wikipedia/commons/3/3a/1953_Bowman_Yogi_Berra_%28cropped%29.jpg"
            alt="Yogi Berra, from Wikipedia">
        </section>

        <section data-background='https://live.staticflickr.com/31/43840051_6d83ebf456_k_d.jpg'>
	  <h1>Yet people keep trying...</h1>
	  <aside class='notes'>When I was studying my degree, mid-80s,
	  there was some other student that went to the newspaper
	  archive and found a system to win the football pools. Dozens
	  of students pitched in to invest in a single pool that would
	    no doubt win. It did not. We didn't do it again</aside>
	</section>

        <section>
          <section data-background="https://ichef.bbci.co.uk/onesport/cps/800/cpsprodpb/3D2B/production/_124995651_bbcenglandcrossesinthe1966wcfinal.jpg">
	    <h1>Are
            long passes better than short?</h1>
                <h2 class="fragment">Charles Reep believed they were</h2>
                <blockquote>seven out of nine goals came from moves of three
            passes or fewer; moves starting with a long pass from your own half
            meant a goal was twice as likely to be scored when compared to using
                    only short passes to progress up the field;</blockquote>
                <p>From <a
                            href="https://www.bbc.com/sport/football/61648608">BBC
                    article</a></p>

                <aside class="notes">In the early fifties, a RAF officer
            started to collect data on passes for a local side, after having
            done the same for military soccer teams. This enphasized the fact
            that in order to create a good data analysis strategy, you need good
                    enough data collection</aside>
            </section>

            <section><h1>Lobanovsky: "Two subsystems of eleven elements"</h1>
                <h2 class="fragment">Team play viewed as a complex system</h2>
                <p><a href="https://commons.wikimedia.org/wiki/File:Dinamo_Kiev_1975.jpg#/media/Archivo:Dinamo_Kiev_1975.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Dinamo_Kiev_1975.jpg" alt="Dinamo Kiev 1975.jpg" width="3683" height="2440"></a><br>De Nationaal Archief, Den Haag, Rijksfotoarchief: Fotocollectie Algemeen Nederlands Fotopersbureau (ANEFO), 1945-1989 - negatiefstroken zwart/wit, nummer toegang 2.24.01.05, bestanddeelnummer 927-8886 - &lt;a rel="nofollow" class="external free" href="http://www.gahetna.nl/over-ons/open-data"&gt;http://www.gahetna.nl/over-ons/open-data&lt;/a&gt; Nationaal Archief Fotocollectie Anefo, <a href="http://creativecommons.org/publicdomain/zero/1.0/deed.en" title="Creative Commons Zero, Public Domain Dedication">CC0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=53339651">Enlace</a></p>
                <aside class="notes">Although his success was probably due to
                    cheating, at least during the Soviet era; on the other hand,
                it showed how important data management was for understanding
                the team and optimizing its performance</aside>
            </section>

            <section><h1>The small world of tiki-taka</h1>
                <h2 class="fragment">Total football, possession and local
                    superiority</h2>
                <p><a
                href="https://commons.wikimedia.org/wiki/File:Spain_national_football_team_Euro_2012_final.jpg#/media/Archivo:Spain_national_football_team_Euro_2012_final.jpg"><img
                src="https://upload.wikimedia.org/wikipedia/commons/4/45/Spain_national_football_team_Euro_2012_final.jpg"
                alt="Spain national football team Euro 2012 final.jpg"
                width="656" height="435"></a><br>De Football.ua, <a
                href="https://creativecommons.org/licenses/by-sa/3.0"
                title="Creative Commons Attribution-Share Alike 3.0">CC BY-SA
                3.0</a>, <a
                             href="https://commons.wikimedia.org/w/index.php?curid=20115677">Enlace</a></p>
                <aside class="notes">The <a
                href="https://es.wikipedia.org/wiki/F%C3%BAtbol_tiquitaca">Wikipedia</a>
                says that "La máquina", the River Plate team in the early 40s, was the initiator of that style; it might have been,
                but most certainly their style was not present when Guardiola
                    and Cruyff started to practice it by the end of the century</aside>
            </section>
        </section>

        <section><section data-background="https://live.staticflickr.com/65535/52477630033_f427b62f21_o_d.jpg">
	    <h1>Football is a passing game</h1>
            <aside class="notes">Whatever else you say, it's quite clear that
            most of what happens in football occurs in passes. Structure must be
            moored in passes, physical capacity the same, when you retrieve the
                ball you must start doing passes.</aside>
        </section>
        <section data-background="https://live.staticflickr.com/65535/52477089101_bd222ce62f_o_d.jpg">
            <h1>And passes form a network</h1>
        </section>
        </section>

        <section>
            <section data-background="https://live.staticflickr.com/65535/52476773486_ab9f10098b_o_d.jpg">
                <h1>Understand the network to understand the game</h1>
                <h2 class="fragment">Vertices/nodes == players</h2>
                <h2 class="fragment">(Undirected) Edges == passes</h2>
                <aside class="notes">We can add some other nodes, like intercept
                    or goal, but it does not have much effect</aside>
            </section>

	    <section><h1>Visualization helps: Spain Euro
		2004</h1>
	      <img src="../img/spain-euro-2004-match-1-simple.png"
		   alt="Spain-euro-2004-1">
	    </section>

            <section data-background="https://live.staticflickr.com/65535/52477084509_24aa710806_k_d.jpg"><h1>Individual-level centrality measures</h1>
                    <h2 class="fragment">Understand the key players</h2>
                    <h2 class="fragment">Game creators/organizers/scorers</h2>
            </section>

            <section><h1>Betweenness: is the player in the middle of
                things?</h1>
                <h2 class="fragment">How often it is in the path from one
                    player to another: assistance</h2>
                <h2 class="fragment">Flow betweenness: How does the player regulate
                    flow of passes </h2>
                <h2 class="fragment">Eigenvector: being along the
                    <em>main</em> axis of movement</h2>
            </section>

	    <section><h2>Spain vs. Greece, Euro 2004: 1:1</h2>
	      <img src="../img/spain-2-euro-2004-betweenness.png"
		   alt="Betweenness Spain">
	      <h3 class="fragment">The case of the vanishing
		midfielders</h3>
	      <aside class='notes'>High betweenness individuals are
		the defenders... And the goalkeeper! Data taken from
		<a href='https://www.uefa.com/uefaeuro/match/73738--greece-vs-spain/'>here</a>, --
				--which shows also the high amount of --
				--yellow cards and how it was a --
				--rather rough --
				--match. As <a href='http://news.bbc.co.uk/sport1/hi/football/euro_2004/3787467.stm'>the --
		  --BBC recalls</a>, Spain had the possession, but it --
		  --failed to have a structured and winning game, --
		  --even with one of the best forwards in Spanish --
		  --history, Raúl, in play.</aside>
	    </section>

	    <section><h1>Mid-level measures</h1>
	      <h2 class='fragment'>Clustering coefficient:
		transitivity ⇒ small-world</h2>
	      <h2 class='fragment'>Communities, core-periphery</h2>
	    </section>

	    <section><h2>The Greek phalanx (vs. Spain, Euro 2004)</h2>
	      <img src="../img/greece-clustering-vs-spain-euro-2004.png"
		   alt='Greece clustered'>
	      <aside class='notes'>There is a tight core-periphery
	      strategy, with the core composed by most midfielders and
	      defenders; there are many options to go from one to
	      another. BTW, Greece used a 4-2-2-2 structure that was
		quite unusual.</aside>
            </section>

	    <section><h2>Greece vs. Spain: good positions?</h2>
	      <img src="../img/greece-clustering-vs-spain-euro-2004-notes.png"
		   alt='Greece clustered with notes'>
	      <aside class='notes'>Despite the weird position of the
	      goal keeper (marked with a pepper), it still could put
	      a defensive/possession position that was quite good</aside>
            </section>
	    
	    <section><h1>Macro-level measures</h1>
	      <h2 class='fragment'>Average measurements and their
		differences</h2>
	      <h2 class='fragment'>Edge/passes entropy</h2>
	    </section>

	    <section><h1>🇵🇹 Portugal 0 - 1 Greece 🇬🇷 </h1>
	      <h1 class='fragment'>Entropy 🇵🇹 3.76 - 3.51  🇬🇷 </h1>
	      <h2 class='fragment'>Groups phase: 🇵🇹 4.12 (1) - (2)
		4.00  🇬🇷</h2>
	      <a title="PeeJay, CC BY-SA 4.0
	      &lt;https://creativecommons.org/licenses/by-sa/4.0&gt;,
	      via Wikimedia Commons"
	      href="https://commons.wikimedia.org/wiki/File:POR-GRE_2004-07-04.svg"><img width="256"
	      alt="POR-GRE 2004-07-04"
											 src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/POR-GRE_2004-07-04.svg/256px-POR-GRE_2004-07-04.svg.png"></a>
	      <aside class='notes'>Normalized entropy is quite
	      similar, but the interesting thing is the entropy that
	      takes into account different values, and the length. In
	      both cases, higher entropy is worse; lower
	      entropy-order is better. This is only two cases, but
	      it's good description anyway.</aside>
	    </section>
	</section>

	<section>
	  <section><h1>Is there a good way to explain result?</h1>
	    <h2 class='fragment'>Micro, meso or macro?</h2>
	    <aside class='notes'>Or put it in another way, all this is
	      nice, but does it score any goals?</aside>
	  </section>

	  <section data-background='../img/shot-animation.gif'><h1>Many different kind of measures</h1>
	    <h2 class='fragment'>At different levels</h2>
	    <h3 class='fragment'>Difficult to know which one, or
	      combination of them, will explain/predict result</h3>
	  </section>

	  <section><h1>How the ball flows is important</h1>
	    <h2 class='fragment'>Let's look at flow betweenness</h2>
	    <img class='fragment'
	    src='../img/lee-borgatti-flow-betweenness.png' alt='flow
								betweenness'>
	    <aside class='notes'>From Lee, Borgatti, Molina and Merelo
	    poster presentation, the flow betweenness is a factor to
	    study, and a difference in flow betwenness (average) is
	      related to a difference in goals</aside>
	  </section>

	  <section><blockquote>Moderately significant + positive
	      coefficient
	      in order to win, try <strong>higher FBC</strong> than
	      the enemy has</blockquote>
	    <h2>Lee, Borgatti, Molina & Merelo, 2005</h2>
	  </section>
	    

	  <section><h1>First lesson: don't look at
	      goals: <code>xG</code></h1>
	    <h2 class='fragment'>Look at expected occassions</h2>
	    <h3 class='fragment'>We don't always have that
	      information...</h3>
	    <a href='https://statsbomb.com/soccer-metrics/expected-goals-xg-explained/'>Expected
		goals are a posteriori</a>, and since their models are
		based on on-the-field sequences, it's difficult to
	      predict in advance
	</section>
	</section>

	<section>
	<section><h1>Back to Yogi Berra</h1>
	  <h1 class='fragment'>There does not seem to be a way to uniquely describe a
	    team</h1>
	  <h2 class='fragment'>Past passes are bad predictors for
	    future passes</h2>
	</section>

	<section><h1>Mais...</h1>
	  <blockquote>Les performances individuelles, ce n'est pas le
	    plus important. On gagne et on perd en équipe. </blockquote>
	  <h2>Zinedine Zidane</h2>
	  <a title="David Ruddell modified by SuperManu, CC BY 2.0
	  &lt;https://creativecommons.org/licenses/by/2.0&gt;, via
	  Wikimedia Commons"
	  href="https://commons.wikimedia.org/wiki/File:Zinedine_zidane_wcf_2006-edit.jpg"><img width="256"
	  alt="Zinedine zidane wcf 2006-edit"
												src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Zinedine_zidane_wcf_2006-edit.jpg/256px-Zinedine_zidane_wcf_2006-edit.jpg"></a></section>
	
</div>
</div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      Reveal.initialize({
	  hash: true,
	   width: "95%",
             height: '100%',
             controls: true,
             progress: true,
             backgroundTransition: 'convex',
	  plugins: [ RevealHighlight, RevealNotes ]
      });
    </script>
  </body>
</html>
